<!DOCTYPE html>
<html>
	<head>
		<title>Breadcrumbs</title>

		<!--Style-->
		<style type="text/css">
			html, body, #map-canvas {
				height: 100%;
				margin: 0;
				padding: 0;
			}
		</style>
	</head>
	<body>
		
		<!--Get Location-->
		<button id="locationButton" onclick="getLocation()">Get Location</button>
		
		<!--Show Location-->
		<span id="location"></span>

		<!--Map-->
		<div id="map-canvas"></div>
		
		<!--Scripts-->
		<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA8QwS6kh3_r9pr3yXKn16Yu52Vtmf84_g"></script>
		<script>
			//Variables
			var crumb = document.getElementById("location");
			var map;

			//Initialize Map
			function initialize() {
				var mapOptions = {
					center: {lat: -34.397, lng: 150.644},
					zoom: 8
				};

				map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
				getLocation();
			}
		
			//Get Location
			function getLocation() {
				if (navigator.geolocation) {
					navigator.geolocation.getCurrentPosition(showPosition);
				} else {
					crumb.innerHTML = "Geolocation not supported";
				}
			}

			//Marker Maker
			function makeMarker(lat, lng) {
				var marker = new google.maps.Marker({
					position = new google.maps.LatLng(lat, lng),
					map = map,
					title: "Crumb"
				});
			}
			
			//Output Location
			function showPosition(position) {
				crumb.innerHTML += "<br>Latitude: " + position.coords.latitude +
				"<br>Longitude: " + position.coords.longitude + "<br>";
				makeMarker(position.coords.latitude, position.coords.longitude);
			}

			//Load Map
			google.maps.event.addDomListener(window, 'load', initialize);
		</script>
	</body>
</html>